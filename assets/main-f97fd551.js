var Ut=Object.defineProperty;var jt=(n,e,t)=>e in n?Ut(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var de=(n,e,t)=>(jt(n,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerpolicy&&(a.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?a.credentials="include":r.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();/*!
 * Viewer.js v1.11.2
 * https://fengyuanchen.github.io/viewerjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-01-01T10:14:49.638Z
 */function Qe(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Ke(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Qe(Object(t),!0).forEach(function(i){Zt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Qe(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function He(n){return He=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},He(n)}function Bt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function et(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,Rt(i.key),i)}}function Kt(n,e,t){return e&&et(n.prototype,e),t&&et(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Zt(n,e,t){return e=Rt(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function $t(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Rt(n){var e=$t(n,"string");return typeof e=="symbol"?e:String(e)}var tt={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,inheritedAttributes:["crossOrigin","decoding","isMap","loading","referrerPolicy","sizes","srcset","useMap"],initialCoverage:.9,initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,focus:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,slideOnTouch:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,move:null,moved:null,rotate:null,rotated:null,scale:null,scaled:null,zoom:null,zoomed:null,play:null,stop:null},Gt='<div class="viewer-container" tabindex="-1" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list" role="navigation"></ul></div></div><div class="viewer-tooltip" role="alert" aria-hidden="true"></div><div class="viewer-button" data-viewer-action="mix" role="button"></div><div class="viewer-player"></div></div>',ze=typeof window<"u"&&typeof window.document<"u",Z=ze?window:{},he=ze&&Z.document.documentElement?"ontouchstart"in Z.document.documentElement:!1,Ze=ze?"PointerEvent"in Z:!1,g="viewer",Ie="move",Vt="switch",ve="zoom",Se="".concat(g,"-active"),Jt="".concat(g,"-close"),Oe="".concat(g,"-fade"),qe="".concat(g,"-fixed"),Qt="".concat(g,"-fullscreen"),it="".concat(g,"-fullscreen-exit"),te="".concat(g,"-hide"),ei="".concat(g,"-hide-md-down"),ti="".concat(g,"-hide-sm-down"),ii="".concat(g,"-hide-xs-down"),Y="".concat(g,"-in"),pe="".concat(g,"-invisible"),ue="".concat(g,"-loading"),ni="".concat(g,"-move"),nt="".concat(g,"-open"),re="".concat(g,"-show"),O="".concat(g,"-transition"),ce="click",We="dblclick",rt="dragstart",at="focusin",st="keydown",X="load",ie="error",ri=he?"touchend touchcancel":"mouseup",ai=he?"touchmove":"mousemove",si=he?"touchstart":"mousedown",ot=Ze?"pointerdown":si,lt=Ze?"pointermove":ai,ht=Ze?"pointerup pointercancel":ri,ut="resize",U="transitionend",ct="wheel",ft="ready",dt="show",mt="shown",vt="hide",gt="hidden",pt="view",be="viewed",bt="move",wt="moved",yt="rotate",Et="rotated",Tt="scale",St="scaled",At="zoom",Nt="zoomed",xt="play",Ct="stop",_e="".concat(g,"Action"),$e=/\s\s*/,Ae=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function we(n){return typeof n=="string"}var oi=Number.isNaN||Z.isNaN;function D(n){return typeof n=="number"&&!oi(n)}function se(n){return typeof n>"u"}function fe(n){return He(n)==="object"&&n!==null}var li=Object.prototype.hasOwnProperty;function oe(n){if(!fe(n))return!1;try{var e=n.constructor,t=e.prototype;return e&&t&&li.call(t,"isPrototypeOf")}catch{return!1}}function A(n){return typeof n=="function"}function x(n,e){if(n&&A(e))if(Array.isArray(n)||D(n.length)){var t=n.length,i;for(i=0;i<t&&e.call(n,n[i],i,n)!==!1;i+=1);}else fe(n)&&Object.keys(n).forEach(function(r){e.call(n,n[r],r,n)});return n}var P=Object.assign||function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return fe(e)&&i.length>0&&i.forEach(function(a){fe(a)&&Object.keys(a).forEach(function(s){e[s]=a[s]})}),e},hi=/^(?:width|height|left|top|marginLeft|marginTop)$/;function j(n,e){var t=n.style;x(e,function(i,r){hi.test(r)&&D(i)&&(i+="px"),t[r]=i})}function ui(n){return we(n)?n.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):n}function ae(n,e){return!n||!e?!1:n.classList?n.classList.contains(e):n.className.indexOf(e)>-1}function f(n,e){if(!(!n||!e)){if(D(n.length)){x(n,function(i){f(i,e)});return}if(n.classList){n.classList.add(e);return}var t=n.className.trim();t?t.indexOf(e)<0&&(n.className="".concat(t," ").concat(e)):n.className=e}}function w(n,e){if(!(!n||!e)){if(D(n.length)){x(n,function(t){w(t,e)});return}if(n.classList){n.classList.remove(e);return}n.className.indexOf(e)>=0&&(n.className=n.className.replace(e,""))}}function ye(n,e,t){if(e){if(D(n.length)){x(n,function(i){ye(i,e,t)});return}t?f(n,e):w(n,e)}}var ci=/([a-z\d])([A-Z])/g;function Ge(n){return n.replace(ci,"$1-$2").toLowerCase()}function le(n,e){return fe(n[e])?n[e]:n.dataset?n.dataset[e]:n.getAttribute("data-".concat(Ge(e)))}function Ue(n,e,t){fe(t)?n[e]=t:n.dataset?n.dataset[e]=t:n.setAttribute("data-".concat(Ge(e)),t)}var Mt=function(){var n=!1;if(ze){var e=!1,t=function(){},i=Object.defineProperty({},"once",{get:function(){return n=!0,e},set:function(a){e=a}});Z.addEventListener("test",t,i),Z.removeEventListener("test",t,i)}return n}();function N(n,e,t){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},r=t;e.trim().split($e).forEach(function(a){if(!Mt){var s=n.listeners;s&&s[a]&&s[a][t]&&(r=s[a][t],delete s[a][t],Object.keys(s[a]).length===0&&delete s[a],Object.keys(s).length===0&&delete n.listeners)}n.removeEventListener(a,r,i)})}function d(n,e,t){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},r=t;e.trim().split($e).forEach(function(a){if(i.once&&!Mt){var s=n.listeners,o=s===void 0?{}:s;r=function(){delete o[a][t],n.removeEventListener(a,r,i);for(var h=arguments.length,l=new Array(h),c=0;c<h;c++)l[c]=arguments[c];t.apply(n,l)},o[a]||(o[a]={}),o[a][t]&&n.removeEventListener(a,o[a][t],i),o[a][t]=r,n.listeners=o}n.addEventListener(a,r,i)})}function _(n,e,t,i){var r;return A(Event)&&A(CustomEvent)?r=new CustomEvent(e,Ke({bubbles:!0,cancelable:!0,detail:t},i)):(r=document.createEvent("CustomEvent"),r.initCustomEvent(e,!0,!0,t)),n.dispatchEvent(r)}function fi(n){var e=n.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}function Le(n){var e=n.rotate,t=n.scaleX,i=n.scaleY,r=n.translateX,a=n.translateY,s=[];D(r)&&r!==0&&s.push("translateX(".concat(r,"px)")),D(a)&&a!==0&&s.push("translateY(".concat(a,"px)")),D(e)&&e!==0&&s.push("rotate(".concat(e,"deg)")),D(t)&&t!==1&&s.push("scaleX(".concat(t,")")),D(i)&&i!==1&&s.push("scaleY(".concat(i,")"));var o=s.length?s.join(" "):"none";return{WebkitTransform:o,msTransform:o,transform:o}}function di(n){return we(n)?decodeURIComponent(n.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""}var Pe=Z.navigator&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(Z.navigator.userAgent);function Pt(n,e,t){var i=document.createElement("img");if(n.naturalWidth&&!Pe)return t(n.naturalWidth,n.naturalHeight),i;var r=document.body||document.documentElement;return i.onload=function(){t(i.width,i.height),Pe||r.removeChild(i)},x(e.inheritedAttributes,function(a){var s=n.getAttribute(a);s!==null&&i.setAttribute(a,s)}),i.src=n.src,Pe||(i.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",r.appendChild(i)),i}function Ne(n){switch(n){case 2:return ii;case 3:return ti;case 4:return ei;default:return""}}function mi(n){var e=Ke({},n),t=[];return x(n,function(i,r){delete e[r],x(e,function(a){var s=Math.abs(i.startX-a.startX),o=Math.abs(i.startY-a.startY),u=Math.abs(i.endX-a.endX),h=Math.abs(i.endY-a.endY),l=Math.sqrt(s*s+o*o),c=Math.sqrt(u*u+h*h),b=(c-l)/l;t.push(b)})}),t.sort(function(i,r){return Math.abs(i)<Math.abs(r)}),t[0]}function xe(n,e){var t=n.pageX,i=n.pageY,r={endX:t,endY:i};return e?r:Ke({timeStamp:Date.now(),startX:t,startY:i},r)}function vi(n){var e=0,t=0,i=0;return x(n,function(r){var a=r.startX,s=r.startY;e+=a,t+=s,i+=1}),e/=i,t/=i,{pageX:e,pageY:t}}var gi={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initBody:function(){var e=this.element.ownerDocument,t=e.body||e.documentElement;this.body=t,this.scrollbarWidth=window.innerWidth-e.documentElement.clientWidth,this.initialBodyPaddingRight=t.style.paddingRight,this.initialBodyComputedPaddingRight=window.getComputedStyle(t).paddingRight},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var e=this.options,t=this.parent,i;e.inline&&(i={width:Math.max(t.offsetWidth,e.minWidth),height:Math.max(t.offsetHeight,e.minHeight)},this.parentData=i),(this.fulled||!i)&&(i=this.containerData),this.viewerData=P({},i)},renderViewer:function(){this.options.inline&&!this.fulled&&j(this.viewer,this.viewerData)},initList:function(){var e=this,t=this.element,i=this.options,r=this.list,a=[];r.innerHTML="",x(this.images,function(s,o){var u=s.src,h=s.alt||di(u),l=e.getImageURL(s);if(u||l){var c=document.createElement("li"),b=document.createElement("img");x(i.inheritedAttributes,function(C){var y=s.getAttribute(C);y!==null&&b.setAttribute(C,y)}),i.navbar&&(b.src=u||l),b.alt=h,b.setAttribute("data-original-url",l||u),c.setAttribute("data-index",o),c.setAttribute("data-viewer-action","view"),c.setAttribute("role","button"),i.keyboard&&c.setAttribute("tabindex",0),c.appendChild(b),r.appendChild(c),a.push(c)}}),this.items=a,x(a,function(s){var o=s.firstElementChild,u,h;Ue(o,"filled",!0),i.loading&&f(s,ue),d(o,X,u=function(c){N(o,ie,h),i.loading&&w(s,ue),e.loadImage(c)},{once:!0}),d(o,ie,h=function(){N(o,X,u),i.loading&&w(s,ue)},{once:!0})}),i.transition&&d(t,be,function(){f(r,O)},{once:!0})},renderList:function(){var e=this.index,t=this.items[e];if(t){var i=t.nextElementSibling,r=parseInt(window.getComputedStyle(i||t).marginLeft,10),a=t.offsetWidth,s=a+r;j(this.list,P({width:s*this.length-r},Le({translateX:(this.viewerData.width-a)/2-s*e})))}},resetList:function(){var e=this.list;e.innerHTML="",w(e,O),j(e,Le({translateX:0}))},initImage:function(e){var t=this,i=this.options,r=this.image,a=this.viewerData,s=this.footer.offsetHeight,o=a.width,u=Math.max(a.height-s,s),h=this.imageData||{},l;this.imageInitializing={abort:function(){l.onload=null}},l=Pt(r,i,function(c,b){var C=c/b,y=Math.max(0,Math.min(1,i.initialCoverage)),T=o,L=u;t.imageInitializing=!1,u*C>o?L=o/C:T=u*C,y=D(y)?y:.9,T=Math.min(T*y,c),L=Math.min(L*y,b);var z=(o-T)/2,k=(u-L)/2,S={left:z,top:k,x:z,y:k,width:T,height:L,oldRatio:1,ratio:T/c,aspectRatio:C,naturalWidth:c,naturalHeight:b},M=P({},S);i.rotatable&&(S.rotate=h.rotate||0,M.rotate=0),i.scalable&&(S.scaleX=h.scaleX||1,S.scaleY=h.scaleY||1,M.scaleX=1,M.scaleY=1),t.imageData=S,t.initialImageData=M,e&&e()})},renderImage:function(e){var t=this,i=this.image,r=this.imageData;if(j(i,P({width:r.width,height:r.height,marginLeft:r.x,marginTop:r.y},Le(r))),e)if((this.viewing||this.moving||this.rotating||this.scaling||this.zooming)&&this.options.transition&&ae(i,O)){var a=function(){t.imageRendering=!1,e()};this.imageRendering={abort:function(){N(i,U,a)}},d(i,U,a,{once:!0})}else e()},resetImage:function(){if(this.viewing||this.viewed){var e=this.image;this.viewing&&this.viewing.abort(),e.parentNode.removeChild(e),this.image=null}}},pi={bind:function(){var e=this.options,t=this.viewer,i=this.canvas,r=this.element.ownerDocument;d(t,ce,this.onClick=this.click.bind(this)),d(t,rt,this.onDragStart=this.dragstart.bind(this)),d(i,ot,this.onPointerDown=this.pointerdown.bind(this)),d(r,lt,this.onPointerMove=this.pointermove.bind(this)),d(r,ht,this.onPointerUp=this.pointerup.bind(this)),d(r,st,this.onKeyDown=this.keydown.bind(this)),d(window,ut,this.onResize=this.resize.bind(this)),e.zoomable&&e.zoomOnWheel&&d(t,ct,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleOnDblclick&&d(i,We,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var e=this.options,t=this.viewer,i=this.canvas,r=this.element.ownerDocument;N(t,ce,this.onClick),N(t,rt,this.onDragStart),N(i,ot,this.onPointerDown),N(r,lt,this.onPointerMove),N(r,ht,this.onPointerUp),N(r,st,this.onKeyDown),N(window,ut,this.onResize),e.zoomable&&e.zoomOnWheel&&N(t,ct,this.onWheel,{passive:!1,capture:!0}),e.toggleOnDblclick&&N(i,We,this.onDblclick)}},bi={click:function(e){var t=this.options,i=this.imageData,r=e.target,a=le(r,_e);switch(!a&&r.localName==="img"&&r.parentElement.localName==="li"&&(r=r.parentElement,a=le(r,_e)),he&&e.isTrusted&&r===this.canvas&&clearTimeout(this.clickCanvasTimeout),a){case"mix":this.played?this.stop():t.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.pointerMoved||this.hide();break;case"view":this.view(le(r,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(t.loop);break;case"play":this.play(t.fullscreen);break;case"next":this.next(t.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-i.scaleX||-1);break;case"flip-vertical":this.scaleY(-i.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(e){e.preventDefault(),this.viewed&&e.target===this.image&&(he&&e.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle(e.isTrusted?e:e.detail&&e.detail.originalEvent))},load:function(){var e=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var t=this.element,i=this.options,r=this.image,a=this.index,s=this.viewerData;w(r,pe),i.loading&&w(this.canvas,ue),r.style.cssText="height:0;"+"margin-left:".concat(s.width/2,"px;")+"margin-top:".concat(s.height/2,"px;")+"max-width:none!important;position:relative;width:0;",this.initImage(function(){ye(r,ni,i.movable),ye(r,O,i.transition),e.renderImage(function(){e.viewed=!0,e.viewing=!1,A(i.viewed)&&d(t,be,i.viewed,{once:!0}),_(t,be,{originalImage:e.images[a],index:a,image:r},{cancelable:!1})})})},loadImage:function(e){var t=e.target,i=t.parentNode,r=i.offsetWidth||30,a=i.offsetHeight||50,s=!!le(t,"filled");Pt(t,this.options,function(o,u){var h=o/u,l=r,c=a;a*h>r?s?l=a*h:c=r/h:s?c=r/h:l=a*h,j(t,P({width:l,height:c},Le({translateX:(r-l)/2,translateY:(a-c)/2})))})},keydown:function(e){var t=this.options;if(t.keyboard){var i=e.keyCode||e.which||e.charCode;switch(i){case 13:this.viewer.contains(e.target)&&this.click(e);break}if(this.fulled)switch(i){case 27:this.played?this.stop():t.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.played&&this.playing?this.playing.prev():this.prev(t.loop);break;case 38:e.preventDefault(),this.zoom(t.zoomRatio,!0);break;case 39:this.played&&this.playing?this.playing.next():this.next(t.loop);break;case 40:e.preventDefault(),this.zoom(-t.zoomRatio,!0);break;case 48:case 49:e.ctrlKey&&(e.preventDefault(),this.toggle());break}}},dragstart:function(e){e.target.localName==="img"&&e.preventDefault()},pointerdown:function(e){var t=this.options,i=this.pointers,r=e.buttons,a=e.button;if(this.pointerMoved=!1,!(!this.viewed||this.showing||this.viewing||this.hiding||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(D(r)&&r!==1||D(a)&&a!==0||e.ctrlKey))){e.preventDefault(),e.changedTouches?x(e.changedTouches,function(o){i[o.identifier]=xe(o)}):i[e.pointerId||0]=xe(e);var s=t.movable?Ie:!1;t.zoomOnTouch&&t.zoomable&&Object.keys(i).length>1?s=ve:t.slideOnTouch&&(e.pointerType==="touch"||e.type==="touchstart")&&this.isSwitchable()&&(s=Vt),t.transition&&(s===Ie||s===ve)&&w(this.image,O),this.action=s}},pointermove:function(e){var t=this.pointers,i=this.action;!this.viewed||!i||(e.preventDefault(),this.pointerMoved=!0,e.changedTouches?x(e.changedTouches,function(r){P(t[r.identifier]||{},xe(r,!0))}):P(t[e.pointerId||0]||{},xe(e,!0)),this.change(e))},pointerup:function(e){var t=this,i=this.options,r=this.action,a=this.pointers,s;e.changedTouches?x(e.changedTouches,function(o){s=a[o.identifier],delete a[o.identifier]}):(s=a[e.pointerId||0],delete a[e.pointerId||0]),r&&(e.preventDefault(),i.transition&&(r===Ie||r===ve)&&f(this.image,O),this.action=!1,he&&r!==ve&&s&&Date.now()-s.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),i.toggleOnDblclick&&this.viewed&&e.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(function(){_(t.image,We,{originalEvent:e})},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(function(){t.imageClicked=!1},500)):(this.imageClicked=!1,i.backdrop&&i.backdrop!=="static"&&e.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(function(){_(t.canvas,ce,{originalEvent:e})},50)))))},resize:function(){var e=this;if(!(!this.isShown||this.hiding)&&(this.fulled&&(this.close(),this.initBody(),this.open()),this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage()}),this.played)){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)){this.stop();return}x(this.player.getElementsByTagName("img"),function(t){d(t,X,e.loadImage.bind(e),{once:!0}),_(t,X)})}},wheel:function(e){var t=this;if(this.viewed&&(e.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout(function(){t.wheeling=!1},50);var i=Number(this.options.zoomRatio)||.1,r=1;e.deltaY?r=e.deltaY>0?1:-1:e.wheelDelta?r=-e.wheelDelta/120:e.detail&&(r=e.detail>0?1:-1),this.zoom(-r*i,!0,null,e)}}},wi={show:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.element,i=this.options;if(i.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(e),this;if(A(i.show)&&d(t,dt,i.show,{once:!0}),_(t,dt)===!1||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var r=this.viewer;if(w(r,te),r.setAttribute("role","dialog"),r.setAttribute("aria-labelledby",this.title.id),r.setAttribute("aria-modal",!0),r.removeAttribute("aria-hidden"),i.transition&&!e){var a=this.shown.bind(this);this.transitioning={abort:function(){N(r,U,a),w(r,Y)}},f(r,O),r.initialOffsetWidth=r.offsetWidth,d(r,U,a,{once:!0}),f(r,Y)}else f(r,Y),this.shown();return this},hide:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=this.element,r=this.options;if(r.inline||this.hiding||!(this.isShown||this.showing))return this;if(A(r.hide)&&d(i,vt,r.hide,{once:!0}),_(i,vt)===!1)return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var a=this.viewer,s=this.image,o=function(){w(a,Y),e.hidden()};if(r.transition&&!t){var u=function l(c){c&&c.target===a&&(N(a,U,l),e.hidden())},h=function(){ae(a,O)?(d(a,U,u),w(a,Y)):o()};this.transitioning={abort:function(){e.viewed&&ae(s,O)?N(s,U,h):ae(a,O)&&N(a,U,u)}},this.viewed&&ae(s,O)?(d(s,U,h,{once:!0}),this.zoomTo(0,!1,null,null,!0)):h()}else o();return this},view:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.initialViewIndex;if(t=Number(t)||0,this.hiding||this.played||t<0||t>=this.length||this.viewed&&t===this.index)return this;if(!this.isShown)return this.index=t,this.show();this.viewing&&this.viewing.abort();var i=this.element,r=this.options,a=this.title,s=this.canvas,o=this.items[t],u=o.querySelector("img"),h=le(u,"originalUrl"),l=u.getAttribute("alt"),c=document.createElement("img");if(x(r.inheritedAttributes,function(L){var z=u.getAttribute(L);z!==null&&c.setAttribute(L,z)}),c.src=h,c.alt=l,A(r.view)&&d(i,pt,r.view,{once:!0}),_(i,pt,{originalImage:this.images[t],index:t,image:c})===!1||!this.isShown||this.hiding||this.played)return this;var b=this.items[this.index];b&&(w(b,Se),b.removeAttribute("aria-selected")),f(o,Se),o.setAttribute("aria-selected",!0),r.focus&&o.focus(),this.image=c,this.viewed=!1,this.index=t,this.imageData={},f(c,pe),r.loading&&f(s,ue),s.innerHTML="",s.appendChild(c),this.renderList(),a.innerHTML="";var C=function(){var z=e.imageData,k=Array.isArray(r.title)?r.title[1]:r.title;a.innerHTML=ui(A(k)?k.call(e,c,z):"".concat(l," (").concat(z.naturalWidth," Ã— ").concat(z.naturalHeight,")"))},y,T;return d(i,be,C,{once:!0}),this.viewing={abort:function(){N(i,be,C),c.complete?e.imageRendering?e.imageRendering.abort():e.imageInitializing&&e.imageInitializing.abort():(c.src="",N(c,X,y),e.timeout&&clearTimeout(e.timeout))}},c.complete?this.load():(d(c,X,y=function(){N(c,ie,T),e.load()},{once:!0}),d(c,ie,T=function(){N(c,X,y),e.timeout&&(clearTimeout(e.timeout),e.timeout=!1),w(c,pe),r.loading&&w(e.canvas,ue)},{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){w(c,pe),e.timeout=!1},1e3)),this},prev:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.index-1;return t<0&&(t=e?this.length-1:0),this.view(t),this},next:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.length-1,i=this.index+1;return i>t&&(i=e?0:t),this.view(i),this},move:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,i=this.imageData;return this.moveTo(se(e)?e:i.x+Number(e),se(t)?t:i.y+Number(t)),this},moveTo:function(e){var t=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=this.element,s=this.options,o=this.imageData;if(e=Number(e),i=Number(i),this.viewed&&!this.played&&s.movable){var u=o.x,h=o.y,l=!1;if(D(e)?l=!0:e=u,D(i)?l=!0:i=h,l){if(A(s.move)&&d(a,bt,s.move,{once:!0}),_(a,bt,{x:e,y:i,oldX:u,oldY:h,originalEvent:r})===!1)return this;o.x=e,o.y=i,o.left=e,o.top=i,this.moving=!0,this.renderImage(function(){t.moving=!1,A(s.moved)&&d(a,wt,s.moved,{once:!0}),_(a,wt,{x:e,y:i,oldX:u,oldY:h,originalEvent:r},{cancelable:!1})})}}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e)),this},rotateTo:function(e){var t=this,i=this.element,r=this.options,a=this.imageData;if(e=Number(e),D(e)&&this.viewed&&!this.played&&r.rotatable){var s=a.rotate;if(A(r.rotate)&&d(i,yt,r.rotate,{once:!0}),_(i,yt,{degree:e,oldDegree:s})===!1)return this;a.rotate=e,this.rotating=!0,this.renderImage(function(){t.rotating=!1,A(r.rotated)&&d(i,Et,r.rotated,{once:!0}),_(i,Et,{degree:e,oldDegree:s},{cancelable:!1})})}return this},scaleX:function(e){return this.scale(e,this.imageData.scaleY),this},scaleY:function(e){return this.scale(this.imageData.scaleX,e),this},scale:function(e){var t=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.element,a=this.options,s=this.imageData;if(e=Number(e),i=Number(i),this.viewed&&!this.played&&a.scalable){var o=s.scaleX,u=s.scaleY,h=!1;if(D(e)?h=!0:e=o,D(i)?h=!0:i=u,h){if(A(a.scale)&&d(r,Tt,a.scale,{once:!0}),_(r,Tt,{scaleX:e,scaleY:i,oldScaleX:o,oldScaleY:u})===!1)return this;s.scaleX=e,s.scaleY=i,this.scaling=!0,this.renderImage(function(){t.scaling=!1,A(a.scaled)&&d(r,St,a.scaled,{once:!0}),_(r,St,{scaleX:e,scaleY:i,oldScaleX:o,oldScaleY:u},{cancelable:!1})})}}return this},zoom:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=this.imageData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(a.width*e/a.naturalWidth,t,i,r),this},zoomTo:function(e){var t=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,o=this.element,u=this.options,h=this.pointers,l=this.imageData,c=l.x,b=l.y,C=l.width,y=l.height,T=l.naturalWidth,L=l.naturalHeight;if(e=Math.max(0,e),D(e)&&this.viewed&&!this.played&&(s||u.zoomable)){if(!s){var z=Math.max(.01,u.minZoomRatio),k=Math.min(100,u.maxZoomRatio);e=Math.min(Math.max(e,z),k)}if(a)switch(a.type){case"wheel":u.zoomRatio>=.055&&e>.95&&e<1.05&&(e=1);break;case"pointermove":case"touchmove":case"mousemove":e>.99&&e<1.01&&(e=1);break}var S=T*e,M=L*e,B=S-C,R=M-y,K=l.ratio;if(A(u.zoom)&&d(o,At,u.zoom,{once:!0}),_(o,At,{ratio:e,oldRatio:K,originalEvent:a})===!1)return this;if(this.zooming=!0,a){var I=fi(this.viewer),H=h&&Object.keys(h).length>0?vi(h):{pageX:a.pageX,pageY:a.pageY};l.x-=B*((H.pageX-I.left-c)/C),l.y-=R*((H.pageY-I.top-b)/y)}else oe(r)&&D(r.x)&&D(r.y)?(l.x-=B*((r.x-c)/C),l.y-=R*((r.y-b)/y)):(l.x-=B/2,l.y-=R/2);l.left=l.x,l.top=l.y,l.width=S,l.height=M,l.oldRatio=K,l.ratio=e,this.renderImage(function(){t.zooming=!1,A(u.zoomed)&&d(o,Nt,u.zoomed,{once:!0}),_(o,Nt,{ratio:e,oldRatio:K,originalEvent:a},{cancelable:!1})}),i&&this.tooltip()}return this},play:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.isShown||this.played)return this;var i=this.element,r=this.options;if(A(r.play)&&d(i,xt,r.play,{once:!0}),_(i,xt)===!1)return this;var a=this.player,s=this.loadImage.bind(this),o=[],u=0,h=0;if(this.played=!0,this.onLoadWhenPlay=s,t&&this.requestFullscreen(t),f(a,re),x(this.items,function(b,C){var y=b.querySelector("img"),T=document.createElement("img");T.src=le(y,"originalUrl"),T.alt=y.getAttribute("alt"),T.referrerPolicy=y.referrerPolicy,u+=1,f(T,Oe),ye(T,O,r.transition),ae(b,Se)&&(f(T,Y),h=C),o.push(T),d(T,X,s,{once:!0}),a.appendChild(T)}),D(r.interval)&&r.interval>0){var l=function b(){clearTimeout(e.playing.timeout),w(o[h],Y),h-=1,h=h>=0?h:u-1,f(o[h],Y),e.playing.timeout=setTimeout(b,r.interval)},c=function b(){clearTimeout(e.playing.timeout),w(o[h],Y),h+=1,h=h<u?h:0,f(o[h],Y),e.playing.timeout=setTimeout(b,r.interval)};u>1&&(this.playing={prev:l,next:c,timeout:setTimeout(c,r.interval)})}return this},stop:function(){var e=this;if(!this.played)return this;var t=this.element,i=this.options;if(A(i.stop)&&d(t,Ct,i.stop,{once:!0}),_(t,Ct)===!1)return this;var r=this.player;return clearTimeout(this.playing.timeout),this.playing=!1,this.played=!1,x(r.getElementsByTagName("img"),function(a){N(a,X,e.onLoadWhenPlay)}),w(r,re),r.innerHTML="",this.exitFullscreen(),this},full:function(){var e=this,t=this.options,i=this.viewer,r=this.image,a=this.list;return!this.isShown||this.played||this.fulled||!t.inline?this:(this.fulled=!0,this.open(),f(this.button,it),t.transition&&(w(a,O),this.viewed&&w(r,O)),f(i,qe),i.setAttribute("role","dialog"),i.setAttribute("aria-labelledby",this.title.id),i.setAttribute("aria-modal",!0),i.removeAttribute("style"),j(i,{zIndex:t.zIndex}),t.focus&&this.enforceFocus(),this.initContainer(),this.viewerData=P({},this.containerData),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){t.transition&&setTimeout(function(){f(r,O),f(a,O)},0)})}),this)},exit:function(){var e=this,t=this.options,i=this.viewer,r=this.image,a=this.list;return!this.isShown||this.played||!this.fulled||!t.inline?this:(this.fulled=!1,this.close(),w(this.button,it),t.transition&&(w(a,O),this.viewed&&w(r,O)),t.focus&&this.clearEnforceFocus(),i.removeAttribute("role"),i.removeAttribute("aria-labelledby"),i.removeAttribute("aria-modal"),w(i,qe),j(i,{zIndex:t.zIndexInline}),this.viewerData=P({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){t.transition&&setTimeout(function(){f(r,O),f(a,O)},0)})}),this)},tooltip:function(){var e=this,t=this.options,i=this.tooltipBox,r=this.imageData;return!this.viewed||this.played||!t.tooltip?this:(i.textContent="".concat(Math.round(r.ratio*100),"%"),this.tooltipping?clearTimeout(this.tooltipping):t.transition?(this.fading&&_(i,U),f(i,re),f(i,Oe),f(i,O),i.removeAttribute("aria-hidden"),i.initialOffsetWidth=i.offsetWidth,f(i,Y)):(f(i,re),i.removeAttribute("aria-hidden")),this.tooltipping=setTimeout(function(){t.transition?(d(i,U,function(){w(i,re),w(i,Oe),w(i,O),i.setAttribute("aria-hidden",!0),e.fading=!1},{once:!0}),w(i,Y),e.fading=!0):(w(i,re),i.setAttribute("aria-hidden",!0)),e.tooltipping=!1},1e3),this)},toggle:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.imageData.ratio===1?this.zoomTo(this.imageData.oldRatio,!0,null,e):this.zoomTo(1,!0,null,e),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=P({},this.initialImageData),this.renderImage()),this},update:function(){var e=this,t=this.element,i=this.options,r=this.isImg;if(r&&!t.parentNode)return this.destroy();var a=[];if(x(r?[t]:t.querySelectorAll("img"),function(h){A(i.filter)?i.filter.call(e,h)&&a.push(h):e.getImageURL(h)&&a.push(h)}),!a.length)return this;if(this.images=a,this.length=a.length,this.ready){var s=[];if(x(this.items,function(h,l){var c=h.querySelector("img"),b=a[l];b&&c?(b.src!==c.src||b.alt!==c.alt)&&s.push(l):s.push(l)}),j(this.list,{width:"auto"}),this.initList(),this.isShown)if(this.length){if(this.viewed){var o=s.indexOf(this.index);if(o>=0)this.viewed=!1,this.view(Math.max(Math.min(this.index-o,this.length-1),0));else{var u=this.items[this.index];f(u,Se),u.setAttribute("aria-selected",!0)}}}else this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""}else this.build();return this},destroy:function(){var e=this.element,t=this.options;return e[g]?(this.destroyed=!0,this.ready?(this.played&&this.stop(),t.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):t.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),t.inline||N(e,ce,this.onStart),e[g]=void 0,this):this}},yi={getImageURL:function(e){var t=this.options.url;return we(t)?t=e.getAttribute(t):A(t)?t=t.call(this,e):t="",t},enforceFocus:function(){var e=this;this.clearEnforceFocus(),d(document,at,this.onFocusin=function(t){var i=e.viewer,r=t.target;if(!(r===document||r===i||i.contains(r))){for(;r;){if(r.getAttribute("tabindex")!==null||r.getAttribute("aria-modal")==="true")return;r=r.parentElement}i.focus()}})},clearEnforceFocus:function(){this.onFocusin&&(N(document,at,this.onFocusin),this.onFocusin=null)},open:function(){var e=this.body;f(e,nt),this.scrollbarWidth>0&&(e.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyComputedPaddingRight)||0),"px"))},close:function(){var e=this.body;w(e,nt),this.scrollbarWidth>0&&(e.style.paddingRight=this.initialBodyPaddingRight)},shown:function(){var e=this.element,t=this.options,i=this.viewer;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,t.focus&&(i.focus(),this.enforceFocus()),A(t.shown)&&d(e,mt,t.shown,{once:!0}),_(e,mt)!==!1&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var e=this.element,t=this.options,i=this.viewer;t.fucus&&this.clearEnforceFocus(),this.fulled=!1,this.viewed=!1,this.isShown=!1,this.close(),this.unbind(),f(i,te),i.removeAttribute("role"),i.removeAttribute("aria-labelledby"),i.removeAttribute("aria-modal"),i.setAttribute("aria-hidden",!0),this.resetList(),this.resetImage(),this.hiding=!1,this.destroyed||(A(t.hidden)&&d(e,gt,t.hidden,{once:!0}),_(e,gt,null,{cancelable:!1}))},requestFullscreen:function(e){var t=this.element.ownerDocument;if(this.fulled&&!(t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement)){var i=t.documentElement;i.requestFullscreen?oe(e)?i.requestFullscreen(e):i.requestFullscreen():i.webkitRequestFullscreen?i.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):i.mozRequestFullScreen?i.mozRequestFullScreen():i.msRequestFullscreen&&i.msRequestFullscreen()}},exitFullscreen:function(){var e=this.element.ownerDocument;this.fulled&&(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())},change:function(e){var t=this.options,i=this.pointers,r=i[Object.keys(i)[0]];if(r){var a=r.endX-r.startX,s=r.endY-r.startY;switch(this.action){case Ie:this.move(a,s,e);break;case ve:this.zoom(mi(i),!1,null,e);break;case Vt:{this.action="switched";var o=Math.abs(a);o>1&&o>Math.abs(s)&&(this.pointers={},a>1?this.prev(t.loop):a<-1&&this.next(t.loop));break}}x(i,function(u){u.startX=u.endX,u.startY=u.endY})}},isSwitchable:function(){var e=this.imageData,t=this.viewerData;return this.length>1&&e.x>=0&&e.y>=0&&e.width<=t.width&&e.height<=t.height}},Ei=Z.Viewer,Ti=function(n){return function(){return n+=1,n}}(-1),Ft=function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Bt(this,n),!e||e.nodeType!==1)throw new Error("The first argument is required and must be an element.");this.element=e,this.options=P({},tt,oe(t)&&t),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.moving=!1,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.rotating=!1,this.scaling=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.pointerMoved=!1,this.id=Ti(),this.init()}return Kt(n,[{key:"init",value:function(){var t=this,i=this.element,r=this.options;if(!i[g]){i[g]=this,r.focus&&!r.keyboard&&(r.focus=!1);var a=i.localName==="img",s=[];if(x(a?[i]:i.querySelectorAll("img"),function(h){A(r.filter)?r.filter.call(t,h)&&s.push(h):t.getImageURL(h)&&s.push(h)}),this.isImg=a,this.length=s.length,this.images=s,this.initBody(),se(document.createElement(g).style.transition)&&(r.transition=!1),r.inline){var o=0,u=function(){if(o+=1,o===t.length){var l;t.initializing=!1,t.delaying={abort:function(){clearTimeout(l)}},l=setTimeout(function(){t.delaying=!1,t.build()},0)}};this.initializing={abort:function(){x(s,function(l){l.complete||(N(l,X,u),N(l,ie,u))})}},x(s,function(h){if(h.complete)u();else{var l,c;d(h,X,l=function(){N(h,ie,c),u()},{once:!0}),d(h,ie,c=function(){N(h,X,l),u()},{once:!0})}})}else d(i,ce,this.onStart=function(h){var l=h.target;l.localName==="img"&&(!A(r.filter)||r.filter.call(t,l))&&t.view(t.images.indexOf(l))})}}},{key:"build",value:function(){if(!this.ready){var t=this.element,i=this.options,r=t.parentNode,a=document.createElement("div");a.innerHTML=Gt;var s=a.querySelector(".".concat(g,"-container")),o=s.querySelector(".".concat(g,"-title")),u=s.querySelector(".".concat(g,"-toolbar")),h=s.querySelector(".".concat(g,"-navbar")),l=s.querySelector(".".concat(g,"-button")),c=s.querySelector(".".concat(g,"-canvas"));if(this.parent=r,this.viewer=s,this.title=o,this.toolbar=u,this.navbar=h,this.button=l,this.canvas=c,this.footer=s.querySelector(".".concat(g,"-footer")),this.tooltipBox=s.querySelector(".".concat(g,"-tooltip")),this.player=s.querySelector(".".concat(g,"-player")),this.list=s.querySelector(".".concat(g,"-list")),s.id="".concat(g).concat(this.id),o.id="".concat(g,"Title").concat(this.id),f(o,i.title?Ne(Array.isArray(i.title)?i.title[0]:i.title):te),f(h,i.navbar?Ne(i.navbar):te),ye(l,te,!i.button),i.keyboard&&l.setAttribute("tabindex",0),i.backdrop&&(f(s,"".concat(g,"-backdrop")),!i.inline&&i.backdrop!=="static"&&Ue(c,_e,"hide")),we(i.className)&&i.className&&i.className.split($e).forEach(function(S){f(s,S)}),i.toolbar){var b=document.createElement("ul"),C=oe(i.toolbar),y=Ae.slice(0,3),T=Ae.slice(7,9),L=Ae.slice(9);C||f(u,Ne(i.toolbar)),x(C?i.toolbar:Ae,function(S,M){var B=C&&oe(S),R=C?Ge(M):S,K=B&&!se(S.show)?S.show:S;if(!(!K||!i.zoomable&&y.indexOf(R)!==-1||!i.rotatable&&T.indexOf(R)!==-1||!i.scalable&&L.indexOf(R)!==-1)){var I=B&&!se(S.size)?S.size:S,H=B&&!se(S.click)?S.click:S,F=document.createElement("li");i.keyboard&&F.setAttribute("tabindex",0),F.setAttribute("role","button"),f(F,"".concat(g,"-").concat(R)),A(H)||Ue(F,_e,R),D(K)&&f(F,Ne(K)),["small","large"].indexOf(I)!==-1?f(F,"".concat(g,"-").concat(I)):R==="play"&&f(F,"".concat(g,"-large")),A(H)&&d(F,ce,H),b.appendChild(F)}}),u.appendChild(b)}else f(u,te);if(!i.rotatable){var z=u.querySelectorAll('li[class*="rotate"]');f(z,pe),x(z,function(S){u.appendChild(S)})}if(i.inline)f(l,Qt),j(s,{zIndex:i.zIndexInline}),window.getComputedStyle(r).position==="static"&&j(r,{position:"relative"}),r.insertBefore(s,t.nextSibling);else{f(l,Jt),f(s,qe),f(s,Oe),f(s,te),j(s,{zIndex:i.zIndex});var k=i.container;we(k)&&(k=t.ownerDocument.querySelector(k)),k||(k=this.body),k.appendChild(s)}if(i.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,A(i.ready)&&d(t,ft,i.ready,{once:!0}),_(t,ft)===!1){this.ready=!1;return}this.ready&&i.inline&&this.view(this.index)}}}],[{key:"noConflict",value:function(){return window.Viewer=Ei,n}},{key:"setDefaults",value:function(t){P(tt,oe(t)&&t)}}]),n}();P(Ft.prototype,gi,pi,bi,wi,yi);class Si extends HTMLElement{constructor(){super(...arguments);de(this,"_viewer")}connectedCallback(){const t=this.querySelector("section"),i=t==null?void 0:t.querySelectorAll("picture");t&&(this._viewer=new Ft(t,{inline:!1,title:!1,toolbar:{zoomIn:!0,zoomOut:!0,oneToOne:!1,reset:!1,prev:!1,play:!1,next:!1,rotateLeft:!1,rotateRight:!1,flipHorizontal:!1,flipVertical:!1}}),i==null||i.forEach((r,a)=>{r.addEventListener("click",()=>{var s;(s=this._viewer)==null||s.view(a)})}))}disconnectCallback(){var t;(t=this._viewer)==null||t.destroy()}}const Dt=new Map,je=async n=>{try{const e=Dt.get(n);if(e)return await e;const t=Ai(n);return Dt.set(n,t),await t}catch(e){throw e instanceof TypeError?new TypeError(`Network error fetching HTML from ${n}: ${e.message}`):e}},Ai=async n=>{try{const e=await fetch(n);if(e.status!==200)throw new Error(`Error fetching HTML from ${n}: status code ${e.status}`);return await e.text()}catch(e){throw e}},Yt=new Map,Ni=n=>{for(const e in n)Yt.set(e,n[e])},Be=n=>{const e=Yt.get(n);if(e===void 0)throw new Error(`the action : ${n} does not exists`);return e()},xi=n=>{if(Ci(n))return n;try{return new Error(JSON.stringify(n))}catch{return new Error(String(n))}},Ci=n=>typeof n=="object"&&n!==null&&"message"in n&&typeof n.message=="string";var It=11;function Di(n,e){var t=e.attributes,i,r,a,s,o;if(!(e.nodeType===It||n.nodeType===It)){for(var u=t.length-1;u>=0;u--)i=t[u],r=i.name,a=i.namespaceURI,s=i.value,a?(r=i.localName||r,o=n.getAttributeNS(a,r),o!==s&&(i.prefix==="xmlns"&&(r=i.name),n.setAttributeNS(a,r,s))):(o=n.getAttribute(r),o!==s&&n.setAttribute(r,s));for(var h=n.attributes,l=h.length-1;l>=0;l--)i=h[l],r=i.name,a=i.namespaceURI,a?(r=i.localName||r,e.hasAttributeNS(a,r)||n.removeAttributeNS(a,r)):e.hasAttribute(r)||n.removeAttribute(r)}}var Ce,Ii="http://www.w3.org/1999/xhtml",V=typeof document>"u"?void 0:document,Oi=!!V&&"content"in V.createElement("template"),Li=!!V&&V.createRange&&"createContextualFragment"in V.createRange();function _i(n){var e=V.createElement("template");return e.innerHTML=n,e.content.childNodes[0]}function ki(n){Ce||(Ce=V.createRange(),Ce.selectNode(V.body));var e=Ce.createContextualFragment(n);return e.childNodes[0]}function zi(n){var e=V.createElement("body");return e.innerHTML=n,e.childNodes[0]}function Ri(n){return n=n.trim(),Oi?_i(n):Li?ki(n):zi(n)}function De(n,e){var t=n.nodeName,i=e.nodeName,r,a;return t===i?!0:(r=t.charCodeAt(0),a=i.charCodeAt(0),r<=90&&a>=97?t===i.toUpperCase():a<=90&&r>=97?i===t.toUpperCase():!1)}function Vi(n,e){return!e||e===Ii?V.createElement(n):V.createElementNS(e,n)}function Mi(n,e){for(var t=n.firstChild;t;){var i=t.nextSibling;e.appendChild(t),t=i}return e}function Fe(n,e,t){n[t]!==e[t]&&(n[t]=e[t],n[t]?n.setAttribute(t,""):n.removeAttribute(t))}var Ot={OPTION:function(n,e){var t=n.parentNode;if(t){var i=t.nodeName.toUpperCase();i==="OPTGROUP"&&(t=t.parentNode,i=t&&t.nodeName.toUpperCase()),i==="SELECT"&&!t.hasAttribute("multiple")&&(n.hasAttribute("selected")&&!e.selected&&(n.setAttribute("selected","selected"),n.removeAttribute("selected")),t.selectedIndex=-1)}Fe(n,e,"selected")},INPUT:function(n,e){Fe(n,e,"checked"),Fe(n,e,"disabled"),n.value!==e.value&&(n.value=e.value),e.hasAttribute("value")||n.removeAttribute("value")},TEXTAREA:function(n,e){var t=e.value;n.value!==t&&(n.value=t);var i=n.firstChild;if(i){var r=i.nodeValue;if(r==t||!t&&r==n.placeholder)return;i.nodeValue=t}},SELECT:function(n,e){if(!e.hasAttribute("multiple")){for(var t=-1,i=0,r=n.firstChild,a,s;r;)if(s=r.nodeName&&r.nodeName.toUpperCase(),s==="OPTGROUP")a=r,r=a.firstChild;else{if(s==="OPTION"){if(r.hasAttribute("selected")){t=i;break}i++}r=r.nextSibling,!r&&a&&(r=a.nextSibling,a=null)}n.selectedIndex=t}}},me=1,Pi=11,Lt=3,_t=8;function ee(){}function Fi(n){if(n)return n.getAttribute&&n.getAttribute("id")||n.id}function Yi(n){return function(e,t,i){if(i||(i={}),typeof t=="string")if(e.nodeName==="#document"||e.nodeName==="HTML"||e.nodeName==="BODY"){var r=t;t=V.createElement("html"),t.innerHTML=r}else t=Ri(t);var a=i.getNodeKey||Fi,s=i.onBeforeNodeAdded||ee,o=i.onNodeAdded||ee,u=i.onBeforeElUpdated||ee,h=i.onElUpdated||ee,l=i.onBeforeNodeDiscarded||ee,c=i.onNodeDiscarded||ee,b=i.onBeforeElChildrenUpdated||ee,C=i.childrenOnly===!0,y=Object.create(null),T=[];function L(p){T.push(p)}function z(p,v){if(p.nodeType===me)for(var m=p.firstChild;m;){var E=void 0;v&&(E=a(m))?L(E):(c(m),m.firstChild&&z(m,v)),m=m.nextSibling}}function k(p,v,m){l(p)!==!1&&(v&&v.removeChild(p),c(p),z(p,m))}function S(p){if(p.nodeType===me||p.nodeType===Pi)for(var v=p.firstChild;v;){var m=a(v);m&&(y[m]=v),S(v),v=v.nextSibling}}S(e);function M(p){o(p);for(var v=p.firstChild;v;){var m=v.nextSibling,E=a(v);if(E){var q=y[E];q&&De(v,q)?(v.parentNode.replaceChild(q,v),R(q,v)):M(v)}else M(v);v=m}}function B(p,v,m){for(;v;){var E=v.nextSibling;(m=a(v))?L(m):k(v,p,!0),v=E}}function R(p,v,m){var E=a(v);E&&delete y[E],!(!m&&(u(p,v)===!1||(n(p,v),h(p),b(p,v)===!1)))&&(p.nodeName!=="TEXTAREA"?K(p,v):Ot.TEXTAREA(p,v))}function K(p,v){var m=v.firstChild,E=p.firstChild,q,G,ne,Ee,J;e:for(;m;){for(Ee=m.nextSibling,q=a(m);E;){if(ne=E.nextSibling,m.isSameNode&&m.isSameNode(E)){m=Ee,E=ne;continue e}G=a(E);var Te=E.nodeType,Q=void 0;if(Te===m.nodeType&&(Te===me?(q?q!==G&&((J=y[q])?ne===J?Q=!1:(p.insertBefore(J,E),G?L(G):k(E,p,!0),E=J):Q=!1):G&&(Q=!1),Q=Q!==!1&&De(E,m),Q&&R(E,m)):(Te===Lt||Te==_t)&&(Q=!0,E.nodeValue!==m.nodeValue&&(E.nodeValue=m.nodeValue))),Q){m=Ee,E=ne;continue e}G?L(G):k(E,p,!0),E=ne}if(q&&(J=y[q])&&De(J,m))p.appendChild(J),R(J,m);else{var Me=s(m);Me!==!1&&(Me&&(m=Me),m.actualize&&(m=m.actualize(p.ownerDocument||V)),p.appendChild(m),M(m))}m=Ee,E=ne}B(p,E,G);var Je=Ot[p.nodeName];Je&&Je(p,v)}var I=e,H=I.nodeType,F=t.nodeType;if(!C){if(H===me)F===me?De(e,t)||(c(e),I=Mi(e,Vi(t.nodeName,t.namespaceURI))):I=t;else if(H===Lt||H===_t){if(F===H)return I.nodeValue!==t.nodeValue&&(I.nodeValue=t.nodeValue),I;I=t}}if(I===t)c(e);else{if(t.isSameNode&&t.isSameNode(I))return;if(R(I,t,C),T)for(var Re=0,Wt=T.length;Re<Wt;Re++){var Ve=y[T[Re]];Ve&&k(Ve,Ve.parentNode,!1)}}return!C&&I!==e&&e.parentNode&&(I.actualize&&(I=I.actualize(e.ownerDocument||V)),e.parentNode.replaceChild(I,e)),I}}var Xi=Yi(Di);const Hi=async n=>{const e=new DOMParser().parseFromString(n,"text/html");document.title=e.title,Xi(document.body,e.body)},qi=async(n,e)=>{if(e){const[t]=await Promise.all([je(n),Be(e)]);return t}return je(n)},Wi=async(n,e)=>{const{before:t,between:i,after:r}=e??{};try{const a=await qi(n,t);i&&Be(i),Hi(a),history.pushState({},document.title,n),scrollTo(0,0),r&&Be(r),Ht()}catch(a){const{message:s}=xi(a);console.error(s),window.location.href=n}},Ui=["before","between","after"];let Xt={};const ji=n=>{Xt=n},Bi=n=>({...Xt,...Ki(n)}),Ki=n=>Ui.reduce((e,t)=>{const i=n.getAttribute("ariane-"+t);return i==null?e:{...e,[t]:i}},{}),Ht=()=>{Zi().forEach(n=>{n.removeEventListener("mouseenter",zt),n.addEventListener("mouseenter",zt),n.removeEventListener("click",kt),n.addEventListener("click",kt)})},kt=async n=>{const e=qt(n);e&&(n.preventDefault(),Wi(e.href,Bi(e)))},zt=n=>{const e=qt(n);e&&je(e.href)},Zi=()=>Array.from(document.querySelectorAll("a")).filter(n=>Array.from(n.attributes).some(({name:e})=>e.startsWith("ariane-"))),qt=n=>{const e=n.target;if(!e)return;const t=e.closest("a");if(t)return t},$i=({selector:n,anim:e})=>{const t=document.querySelector(n);return new Promise((i,r)=>{if(!t){r(new Error("No Element for "+n));return}if(!(t!=null&&t.animate)){r("Element.animate is not supported in this environment");return}(t==null?void 0:t.animate(...e)).addEventListener("finish",a=>{i(a)})})},Gi=(n,...e)=>()=>$i({selector:n,anim:e}),$={start:Ht,defineConfig:ji,addActions:Ni,makeAnim:Gi},Ji=$.makeAnim("main",[{opacity:1},{opacity:0}],{duration:300,easing:"ease-out"}),Qi=$.makeAnim("main",[{opacity:0},{opacity:1}],{duration:500,easing:"ease-out"}),en=$.makeAnim("main",[{transform:"translate(0,0)"},{transform:"translate(-100vw,0)  scaleX(0)"}],{duration:300,fill:"forwards",easing:"ease-in"}),tn=$.makeAnim("main",[{transform:"translate(100vw,0)"},{transform:"translate(0,0)"}],{duration:200,fill:"forwards"}),nn=$.makeAnim("main",[{transform:"translate(0,0)"},{transform:"translate(100vw,0) scaleX(0)"}],{duration:300,fill:"forwards"}),rn=$.makeAnim("main",[{transform:"translate(-100vw,0)"},{transform:"translate(0,0)"}],{duration:200,fill:"forwards"});$.addActions({slideFromLeft:rn,slideToRight:nn,slideToLeft:en,slideFromRight:tn,fadeIn:Qi,fadeOut:Ji});$.defineConfig({before:"fadeOut",between:"fadeIn"});const an=()=>{$.start()},Ye=document.querySelector("#actuBtn"),W=document.querySelector("#actuWindow"),Xe=document.querySelector("#close-actus"),sn=()=>{Ye==null||Ye.addEventListener("click",()=>{W==null||W.showModal()}),Xe==null||Xe.addEventListener("click",()=>{W==null||W.close()}),W==null||W.addEventListener("click",n=>{const{left:e,top:t,width:i,height:r}=W.getBoundingClientRect();(n.clientX<e||n.clientX>e+i||n.clientY<t||n.clientY>t+r)&&W.close()})};let on={rootMargin:"0px",threshold:.4};const ke=class extends HTMLElement{constructor(){super(...arguments);de(this,"_observables")}connectedCallback(){"IntersectionObserver"in window&&(this._observables=this.querySelectorAll("[anim-onscroll]"),this._observables.forEach(t=>{ke._observer.observe(t),t.classList.add("not-visible")}))}disconnectedCallback(){var t;(t=this._observables)==null||t.forEach(i=>{ke._observer.unobserve(i)})}};let ge=ke;de(ge,"_options",{rootMargin:"0px",threshold:.4}),de(ge,"_observer",new IntersectionObserver(t=>{t.forEach(i=>{var r;i.intersectionRatio>0&&((r=i.target)==null||r.classList.remove("not-visible"))})},on));customElements.define("image-gallery",Si);customElements.define("observable-wrapper",ge);sn();an();
